@model JsonDemo.Models.Photo
@{
    ViewBag.Title = "Create";
    int ownerId = ((JsonDemo.Models.User)Session["ConnectedUser"]).Id;
}

@using (Html.BeginForm("Create", "Photos", FormMethod.Post, new { @id = "createForm" }))
{
    @Html.AntiForgeryToken()
    <input type="hidden" name="_RequestVerificationToken" value=@ownerId />

    <div class="photo-form">
        <fieldset>
            <legend>@Html.DisplayNameFor(model => model.Title)</legend>
            @Html.EditorFor(model => model.Title, new { htmlAttributes = new { @class = "form-control", placeholder = Html.DisplayNameFor(model => model.Title) } })
            @Html.ValidationMessageFor(model => model.Title, "", new { @class = "text-danger" })

            <br />
            <br />

            <legend>@Html.DisplayNameFor(model => model.Description)</legend>
            @Html.TextAreaFor(model => model.Description, new { @class = "form-control", placeholder = Html.DisplayNameFor(model => model.Description), rows = 5 })
            @Html.ValidationMessageFor(model => model.Description, "", new { @class = "text-danger" })

            <div style="display:grid; grid-template-columns:1em auto; gap:8px; align-items:center">
                @Html.CheckBoxFor(model => model.Shared, new { @class = "form-check-input" })
                <label for="Shared">Partagée</label>
            </div>
        </fieldset>

        <fieldset>
            <legend>Photo</legend>
            <div class="form-group" style="display: flex; flex-direction: column; align-items: center; border-radius: 6px; padding: 6px 6px 3px 0px;">
                @Helper.ImageUploader("Image", Model.Image ?? "/App_Assets/Photos/No_Image.png", "Cliquez glisser une photo")
            </div>
        </fieldset>
    </div>
}
